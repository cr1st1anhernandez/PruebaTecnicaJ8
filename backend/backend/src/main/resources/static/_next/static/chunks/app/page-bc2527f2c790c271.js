(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4948:function(e,a,r){Promise.resolve().then(r.bind(r,7859)),Promise.resolve().then(r.bind(r,2120)),Promise.resolve().then(r.bind(r,7776))},7859:function(e,a,r){"use strict";r.d(a,{default:function(){return b}});var n=r(7437),t=r(9516),s=r(3561),i=r(1285),l=r(1888),o=r(123),c=r(551),d=r(6208),h=r(112),m=r(5753),p=r(5256),u=r(1887),g=r(7971),x=r(1446),f=r(2265),j=r(7776);function b(){let{isOpen:e,onOpen:a,onOpenChange:r}=(0,d.q)(),[b,w]=(0,f.useState)(!1),[v,D]=(0,f.useState)({name:"",description:"",startDate:""}),y=e=>{let{name:a,value:r}=e.target;D(e=>({...e,[a]:r}))},N=async()=>{try{w(!0),(await fetch("/api/v1/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok?(j.A.success("Tarea registrada"),r(),D({name:"",description:"",startDate:""})):j.A.error("Hubo un problema al registrar la tarea")}catch(e){console.error("Error:",e),j.A.info("Error en la conexi\xf3n")}finally{w(!1)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.A,{onPress:a,color:"primary",variant:"shadow",children:"Registrar tarea"}),(0,n.jsx)(h.R,{isOpen:e,onOpenChange:r,placement:"top-center",children:(0,n.jsx)(m.A,{children:e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.k,{className:"flex flex-col gap-1",children:"Registrar tarea"}),(0,n.jsxs)(u.I,{children:[(0,n.jsx)(l.Y,{label:"Nombre",name:"name",placeholder:"Ingresa el nombre de la tarea",variant:"bordered",value:v.name,onChange:y}),(0,n.jsx)(o.Y,{label:"Descripcion",name:"description",placeholder:"Ingresa la descripci\xf3n",variant:"bordered",value:v.description,onChange:y}),(0,n.jsx)(i.N,{label:"Fecha de inicio",className:"max-w-sm",onChange:e=>D(a=>({...a,startDate:e.toString()})),placeholderValue:new t.aw(2024,11,6),value:v.startDate?new t.aw(new Date(v.startDate).getFullYear(),new Date(v.startDate).getMonth()+1,new Date(v.startDate).getDate()):new t.aw(2024,11,6)}),(0,n.jsx)("div",{className:"flex py-2 px-1 justify-between",children:(0,n.jsx)(c.O,{color:"primary",href:"/tasks",size:"sm",children:"Ver lista de tareas"})})]}),(0,n.jsxs)(g.R,{children:[(0,n.jsx)(s.A,{color:"danger",variant:"flat",onPress:e,children:"Cancelar"}),(0,n.jsx)(s.A,{color:"primary",onPress:N,children:b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.c,{size:"sm"})," Registrando..."]}):"Registrar"})]})]})})})]})}}},function(e){e.O(0,[761,143,626,971,23,744],function(){return e(e.s=4948)}),_N_E=e.O()}]);